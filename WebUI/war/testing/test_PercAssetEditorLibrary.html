<!--
  ~     Percussion CMS
  ~     Copyright (C) 1999-2020 Percussion Software, Inc.
  ~
  ~     This program is free software: you can redistribute it and/or modify
  ~     it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
  ~
  ~     This program is distributed in the hope that it will be useful,
  ~     but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~     GNU Affero General Public License for more details.
  ~
  ~     Mailing Address:
  ~
  ~      Percussion Software, Inc.
  ~      PO Box 767
  ~      Burlington, MA 01803, USA
  ~      +01-781-438-9900
  ~      support@percussion.com
  ~      https://www.percusssion.com
  ~
  ~     You should have received a copy of the GNU Affero General Public License along with this program.  If not, see <https://www.gnu.org/licenses/>
  -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
    <head>
    <meta http-equiv="content-type" content="text/html; charset=windows-1250">
    <meta name="generator" content="PSPad editor, www.pspad.com">
    <title></title>
    <link rel="stylesheet" media="screen" type="text/css" href="../css/testsuite.css" />
    <script src="../jslib/jquery-1.3.2.js"></script>
    <script src="../jslib/testrunner.js"></script>
    <script src="../jslib/json.js"></script>
    <script src="../plugins/perc_path_constants.js"></script>
    <script src="../plugins/perc_utils.js"></script>
    <script src="../services/PercAssetService.js"></script>
    <script src="../services/PercPathService.js"></script>
    <script src="../services/PercServiceUtils.js"></script>
    <script src="../models/PercWidgetModel.js"></script>
    <script src="../models/PercPathModel.js"></script>
    <script src="../controllers/PercAssetController.js"></script>
    <script src="../views/PercNewAssetDialog.js"></script>
    <script>
    $(document).ready(function()
    {
        test("Test Asset Service", function()
        {
            var assetDropCriteria;
            function callback(status, assetEditorLibrary)
            {
                ok(status == "success", "All ok");
                var assetEditor = assetEditorLibrary.AssetEditor;
//                console.log(assetEditor.length);
                ok(assetEditor.length != 0, "AssetEditor not empty");
                for(i in assetEditor)
                {
                    var icon = assetEditor[i].icon;
                    var title = assetEditor[i].title;
                    var url = assetEditor[i].url;
                    ok(icon != "", "Icon not empty");
                    ok(title != "", "Title not empty");
                    ok(url != "", "Url not empty");
                }
            }
            var service = $.PercAssetService;
            service.getAssetEditorLibrary(callback);
        });

        test("Test Asset Controller", function()
        {
            function callback2(assetEditorLibrary)
            {
//                console.log("Test Asset Controller");
                for(a in assetEditorLibrary)
                {
//                    assetEditorLibrary[a].log();
                }
            }
            ok(1==1,"ss");
            var controller = $.PercAssetController;
            controller.getAssetEditorLibrary(callback2);
        });

        test("Test New Asset Dialog", function()
        {
        });
        
        test("Test Path Service", function()
        {
            var path = "/New Folder/New Folder";
            $.PercPathService.getPathItemForPath(path, function(status, pathItemJson)
            {
            //    console.log(pathItemJson.PathItem.id);
            });
        });

        test("Test Asset Controller getPathItemForPath", function()
        {
            var path = "/New Folder/New Folder";
            $.PercAssetController.getPathItemForPath(path, function(pathItemObj)
            {
                alert(pathItemObj.id);
            });
        });
    });
    </script>
</head>
<body>
    <h1 id="qunit-header">Testing: Asset Editor Library</h1>
    <h2 id="banner"></h2>
    <h2 id="userAgent"></h2>
    <ol id="tests"></ol>
</body>
</html>

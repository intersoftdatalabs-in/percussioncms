<!--
  ~     Percussion CMS
  ~     Copyright (C) 1999-2020 Percussion Software, Inc.
  ~
  ~     This program is free software: you can redistribute it and/or modify
  ~     it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
  ~
  ~     This program is distributed in the hope that it will be useful,
  ~     but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~     GNU Affero General Public License for more details.
  ~
  ~     Mailing Address:
  ~
  ~      Percussion Software, Inc.
  ~      PO Box 767
  ~      Burlington, MA 01803, USA
  ~      +01-781-438-9900
  ~      support@percussion.com
  ~      https://www.percusssion.com
  ~
  ~     You should have received a copy of the GNU Affero General Public License along with this program.  If not, see <https://www.gnu.org/licenses/>
  -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=windows-1250">
  <meta name="generator" content="PSPad editor, www.pspad.com">
  <title>Test REST</title>
  <script src="../jslib/jquery-1.3.2.js"></script>
  <script src="../jslib/json.js"></script>
  <script>
   $(document).ready(function(){
      $("#go").bind("click", doRequest);   
   });
   
   function doRequest(){
      $.ajax({
         url: $("#url").val(),
         dataType: $("#format").val(),
         type: $("#type").val(),
         processData: false,
         data: $("#data").val(),
         dataFilter: function(data, type){
           var res = data;
           if(type == "xml"){
              res = (new XMLSerializer()).serializeToString(data);
           }
           $("#result").val(res);
           return data;
         },
         error: function(request, textstatus, error){
            $("#result").val(error);
         }  
     }); 
   }    
    
    
   
   
   
  </script>
  
  </head>
  <body>
  <form name="main">
    <table width="100%" height="100%">
    <tr>
    <td width="20%"><b>Url:</b></td>
    <td width="80%"><input class="input" type="text" name="url" id="url" style="width: 60%"></td>
    </tr>
    <tr>
    <td width="20%"><b>Data:</b></td>
    <td width="80%"><input class="input" type="text" name="data" id="data" style="width: 60%"></td>
    </tr>
    <tr>
    <td><b>Format:</b></td>
    <td><select class="input" name="format" id="format">
       <option value="json" selected>Json</option>
       <option value="xml">Xml</option>
       </select>
    </td>
    </tr>
    <tr>
    <td><b>Type:</b></td>
    <td><select class="input" name="type" id="type">
       <option value="GET" selected>GET</option>
       <option value="POST">POST</option>
       </select>
    </td>
    </tr>
    <tr>   
    <td span="2"><input type="button" id="go" name="go" value="Make Request"></td>    
    </tr>
    <tr>
    <td valign="top"><b>Result:</b></td>
    <td>
    <textarea class="result" name="result" id="result" style="width: 90%; height: 400px;">
    </textarea>
    </td>
    </tr>
  </table>  
  </form>
  </body>
</html>

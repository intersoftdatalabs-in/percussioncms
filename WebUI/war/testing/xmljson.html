

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=windows-1250">
  <meta name="generator" content="PSPad editor, www.pspad.com">
  <title></title>
  <link rel="stylesheet" media="screen" type="text/css" href="../css/testsuite.css" />
  <script src="../jslib/jquery-1.3.2.js"></script>
  <script src="../jslib/profiles/3x/jquery/plugins/jquery-perc-retiredjs/jquery.xmldom-1.0.js"></script>
  <script src="../jslib//jslib/profiles/3x/jquery/plugins/jquery-testrunner/testrunner.js"></script>
  <script src="../jslib/profiles/3x/jquery/plugins/jquery-perc-retiredjs/json2.js"></script>
  <script src="../plugins/perc_utils.js"></script>
  <script src="../plugins/perc_page_schema.js"></script>
  <script>
   $(document).ready(function(){
           test( "Page object to and from XML", function(){

                var orig_xml = $.perc_schemata.page_test_data;

                var json = $.perc_utils.unxml( $.perc_schemata.page, $.xmlDOM(orig_xml) );

                //Check that the JSON has basic characteristics of the XML
                equals( json.Page.regionBranches.regions[0].children[0].regionId, 'rid', "XML->JSON preserves structure" );

                var rexml = $.perc_utils.rexml( $.perc_schemata.page, json );

                var rejson = $.perc_utils.unxml( $.perc_schemata.page, $.xmlDOM(rexml) );

                //check that the JSON structure is preserved by translating to and from XML
                same( rejson, json, "JSON->XML->JSON changes nothing" );
           }); 
   });
  </script>
  </head>
  <body>
  <h1 id="qunit-header">Testing: perc_template_layout_helper.js</h1>
  <h2 id="banner"></h2>
  <h2 id="userAgent"></h2>
  <ol id="tests"></ol>   
  </body>
</html>

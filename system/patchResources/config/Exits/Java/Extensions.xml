<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~     Percussion CMS
  ~     Copyright (C) 1999-2020 Percussion Software, Inc.
  ~
  ~     This program is free software: you can redistribute it and/or modify
  ~     it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
  ~
  ~     This program is distributed in the hope that it will be useful,
  ~     but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~     GNU Affero General Public License for more details.
  ~
  ~     Mailing Address:
  ~
  ~      Percussion Software, Inc.
  ~      PO Box 767
  ~      Burlington, MA 01803, USA
  ~      +01-781-438-9900
  ~      support@percussion.com
  ~      https://www.percusssion.com
  ~
  ~     You should have received a copy of the GNU Affero General Public License along with this program.  If not, see <https://www.gnu.org/licenses/>
  -->

<PSXExtensionHandlerConfiguration handlerName="Java">
   <Extension categorystring="translation" context="global/percussion/content/" deprecated="no" handler="Java" name="sys_EditLiveFormEncode" restoreRequestParamsOnError="no">
      <initParam name="com.percussion.user.description">Translation to encode form tags into a marked div tag that is 
	  allowed in editlive single instance. sys_EditLiveFormDecode Input translation must be used on this field when the encode is
	  used. The EditLive rxFormEncodeDecodeSourceFilter plugin must also be enabled for the EditLive editor. </initParam>
      <initParam name="com.percussion.extension.version">1</initParam>
      <initParam name="com.percussion.extension.reentrant">yes</initParam>
      <initParam name="className">com.percussion.extensions.translations.PSFormEncode</initParam>
      <interface name="com.percussion.extension.IPSFieldOutputTransformer"/>
      <PSXExtensionParamDef id="0">
         <name>Field name</name>
         <dataType>java.lang.String</dataType>
         <description>The name of the field to be translated</description>
      </PSXExtensionParamDef>
      <suppliedResources/>
   </Extension>
   <Extension categorystring="translation" context="global/percussion/content/" deprecated="no" handler="Java" name="sys_EditLiveFormDecode" restoreRequestParamsOnError="no">
      <initParam name="com.percussion.user.description">Input translation to decode marked div tags back into form tags. sys_EditLiveFormEncode translation is used on this field when the decode is used. The EditLive rxFormEncodeDecodeSourceFilter plugin must also be enabled for the EditLive editor. </initParam>
      <initParam name="com.percussion.extension.version">1</initParam>
      <initParam name="className">com.percussion.extensions.translations.PSFormDecode</initParam>
      <initParam name="com.percussion.extension.reentrant">yes</initParam>
      <interface name="com.percussion.extension.IPSFieldInputTransformer"/>
      <PSXExtensionParamDef id="0">
         <name>value</name>
         <dataType>java.lang.String</dataType>
         <description>The value to be translated. Use single html field/fieldname to get the value.</description>
      </PSXExtensionParamDef>
      <suppliedResources/>
   </Extension>
   <Extension name="sys_encodeForUrl" context="global/percussion/generic/" handler="Java" categorystring="generic" deprecated="no">
      <initParam name="com.percussion.user.description">Encodes a String so it is safe for use as a URL param value.</initParam>
      <initParam name="com.percussion.extension.version">1</initParam>
      <initParam name="com.percussion.extension.reentrant">yes</initParam>
      <initParam name="className">com.percussion.extensions.general.PSSimpleJavaUdf_encodeForUrl</initParam>
      <interface name="com.percussion.extension.IPSUdfProcessor"/>
      <PSXExtensionParamDef id="0">
         <name>source</name>
         <dataType>java.lang.String</dataType>
         <description>The string to encode.</description>
      </PSXExtensionParamDef>
      <suppliedResources/>
   </Extension>
      <Extension name="sys_encodeForUrl" context="global/percussion/generic/" handler="Java" categorystring="generic" deprecated="no">
      <initParam name="com.percussion.user.description">Encodes a String so it is safe for use as a URL param value.</initParam>
      <initParam name="com.percussion.extension.version">1</initParam>
      <initParam name="com.percussion.extension.reentrant">yes</initParam>
      <initParam name="className">com.percussion.extensions.general.PSSimpleJavaUdf_encodeForUrl</initParam>
      <interface name="com.percussion.extension.IPSUdfProcessor"/>
      <PSXExtensionParamDef id="0">
         <name>source</name>
         <dataType>java.lang.String</dataType>
         <description>The string to encode.</description>
      </PSXExtensionParamDef>
      <suppliedResources/>
   </Extension>
   <Extension categorystring="cx" context="global/percussion/cx/" deprecated="no" handler="Java" name="sys_getItemTypeIconPaths" restoreRequestParamsOnError="no">
      <initParam name="com.percussion.user.description">Exit to get the icon paths for the supplied locators. Gets the input from the value of ItemLocators parameter from the request. It is a required parameter and returns unmodified result document if it is missing. Expects the value of the above parameter in the form of a string representation of XML consisting of PSXLocator elements as direct children of root element. The result document returned from the exit will be as per the following DTD
       &lt;pre&gt; 
       &lt;!ELEMENT ItemIcons (Item*)&gt;
       &lt;!ELEMENT Item (#PCDATA)&gt; 
       &lt;!ATTLIST Item cid CDATA #REQUIRED&gt;
       &lt;!ATTLIST Item rev CDATA #REQUIRED&gt; 
       &lt;!ATTLIST Item path CDATA #REQUIRED&gt; 
       &lt;/pre&gt;
       The returned resultDoc consists of an empty ItemIcons element if the input is not as expected by this exit.
      </initParam>
      <initParam name="com.percussion.extension.version">1</initParam>
      <initParam name="com.percussion.extension.reentrant">yes</initParam>
      <initParam name="className">com.percussion.cx.PSGetItemTypeIconPaths</initParam>
      <interface name="com.percussion.extension.IPSResultDocumentProcessor"/>
      <suppliedResources/>
   </Extension>
   <Extension categorystring="cx" context="global/percussion/cx/" deprecated="no" handler="Java" name="sys_getAadItemTypeIconPaths" restoreRequestParamsOnError="no">
      <initParam name="com.percussion.user.description">Gets the icon path for the items and sets it as iconPath attribute of item elements in the resultDoc.
      Expects the item elements as direct children of resultDoc with the following child elements "contentid", "revision", "contentcheckoutusername" and "tiprevision". If the item is checked out by the current user tip revision is used otherwise current revision is used to get the icon path. Unmodified resultDoc is returned if the resultDoc does not contain expected input. The iconPath attribute value may be empty if not specified on the content type corresponding to the item or if failed to obtain it.
     </initParam>
      <initParam name="com.percussion.extension.version">1</initParam>
      <initParam name="com.percussion.extension.reentrant">yes</initParam>
      <initParam name="className">com.percussion.cx.PSGetAadItemTypeIconPaths</initParam>
      <interface name="com.percussion.extension.IPSResultDocumentProcessor"/>
      <suppliedResources/>
   </Extension>
   <Extension name="sys_AutoSlotContentFinder" context="global/percussion/slotcontentfinder" handler="Java" categorystring="SlotContentFinder" deprecated="no">
      <initParam name="com.percussion.user.description"/>
      <initParam name="com.percussion.extension.version">1</initParam>
      <initParam name="className">com.percussion.services.assembly.impl.finder.PSAutoSlotContentFinder</initParam>
      <initParam name="com.percussion.extension.reentrant">yes</initParam>
      <interface name="com.percussion.services.assembly.IPSSlotContentFinder"/>
      <PSXExtensionParamDef id="0">
         <name>query</name>
         <dataType>java.lang.String</dataType>
         <description>(Required) The JSR-170 query to use in finding the base items for the slot.</description>
      </PSXExtensionParamDef>
      <PSXExtensionParamDef id="1">
         <name>type</name>
         <dataType>java.lang.String</dataType>
         <description>The type of the query specified, either sql or xpath. Only sql is officially supported. If omitted this defaults to sql.</description>
      </PSXExtensionParamDef>
      <PSXExtensionParamDef id="2">
         <name>template</name>
         <dataType>java.lang.String</dataType>
         <description>(Required) The template to use to format the returned items, you may specify either a name or an id.</description>
      </PSXExtensionParamDef>
      <PSXExtensionParamDef id="3">
         <name>max_results</name>
         <dataType>java.lang.String</dataType>
         <description>The maximum number of items to return for the slot, defaults to unlimited.</description>
      </PSXExtensionParamDef>
      <PSXExtensionParamDef id="4">
         <name>sys_lang</name>
         <dataType>java.lang.String</dataType>
         <description>If sorting the results, either with an order_by clause or in an auto index, use this locale to determine collating sequence.</description>
      </PSXExtensionParamDef>		
      <PSXExtensionParamDef id="5">
         <name>mayHaveCrossSiteLinks</name>
         <dataType>java.lang.String</dataType>
         <description>Default value is false, if set to true the site id for the resulting slot items are calculated and applied.</description>
      </PSXExtensionParamDef>		
      <suppliedResources/>
   </Extension>
   <Extension name="sys_xdTextCleanup" context="global/percussion/xmldom" handler="Java" categorystring="xmldom" deprecated="no">
      <initParam name="com.percussion.user.description">Cleans up (via Tidy) a text input field (either file or text) and replaces it with the cleaned up version.</initParam>
      <initParam name="com.percussion.extension.version">1</initParam>
      <initParam name="com.percussion.extension.reentrant">yes</initParam>
      <initParam name="className">com.percussion.xmldom.PSXdTextCleanup</initParam>
      <interface name="com.percussion.extension.IPSRequestPreProcessor"/>
      <PSXExtensionParamDef id="0">
         <name>SourceName</name>
         <dataType>java.lang.String</dataType>
         <description>name of source parameter</description>
      </PSXExtensionParamDef>
      <PSXExtensionParamDef id="0">
         <name>TidyProperties</name>
         <dataType>java.lang.String</dataType>
         <description>name of Tidy Properties file</description>
      </PSXExtensionParamDef>
      <PSXExtensionParamDef id="0">
         <name>ServerPageTags</name>
         <dataType>java.lang.String</dataType>
         <description>The ServerPageTags parameter is not used</description>
      </PSXExtensionParamDef>
      <PSXExtensionParamDef id="0">
         <name>encodingDefault</name>
         <dataType>java.lang.String</dataType>
         <description>java encoding name to use for files. Necessary if different from the platform default.</description>
      </PSXExtensionParamDef>
      <PSXExtensionParamDef id="0">
         <name>DisableInlineLink</name>
         <dataType>java.lang.String</dataType>
         <description>Set to &quot;Y&quot; to disable inline links processing</description>
      </PSXExtensionParamDef>
      <PSXExtensionParamDef id="0">
         <name>AvoidTidyPrettyPrint</name>
         <dataType>java.lang.String</dataType>
         <description>Set to &quot;yes&quot; to avoid Tidy&#39;s pretty print (Typically used when WebEditor Pro control). This parameter is optional and the default value is &quot;no&quot;.</description>
      </PSXExtensionParamDef>
      <suppliedResources/>
   </Extension>
    <Extension categorystring="generic" context="global/percussion/extensions/general/" deprecated="no" handler="Java" name="PSProxyQueryResource" restoreRequestParamsOnError="no">
      <initParam name="com.percussion.user.description">This exit allows you to make internal request to external resource that produce XML.</initParam>
      <initParam name="com.percussion.extension.version">45</initParam>
      <initParam name="com.percussion.extension.reentrant">yes</initParam>
      <initParam name="className">com.percussion.extensions.general.PSProxyQueryResource</initParam>
      <interface name="com.percussion.extension.IPSResultDocumentProcessor"/>
      <PSXExtensionParamDef id="0">
         <name>url</name>
         <dataType>java.lang.String</dataType>
         <description>(required) The url call.</description>
      </PSXExtensionParamDef>
      <PSXExtensionParamDef id="0">
         <name>user</name>
         <dataType>java.lang.String</dataType>
         <description>(optional) The user name if authentication is required.</description>
      </PSXExtensionParamDef>
      <PSXExtensionParamDef id="0">
         <name>password</name>
         <dataType>java.lang.String</dataType>
         <description>(optional) The password if authentication is required.</description>
      </PSXExtensionParamDef>
      <suppliedResources/>
   </Extension>
   <Extension categorystring="editiontask" context="global/percussion/task/" deprecated="no" handler="Java" name="perc_PSSiteimproveEditionTask" restoreRequestParamsOnError="no">
      <initParam name="com.percussion.user.description">
        Third party integration edition task for siteimprove
        </initParam>
      <initParam name="com.percussion.extension.version">1</initParam>
      <initParam name="className">com.percussion.integrations.siteimprove.task.impl.PSSiteimproveEditionTask</initParam>
      <initParam name="com.percussion.extension.reentrant">yes</initParam>
      <interface name="com.percussion.rx.publisher.IPSEditionTask"/>
      <suppliedResources/>
   </Extension>
      <Extension categorystring="encoding" context="global/percussion/content/" deprecated="no" handler="Java" name="sys_EncodeForHTML">
      <initParam name="com.percussion.user.description">Encodes any embedded markup with rules for HTML encoding.</initParam>
      <initParam name="com.percussion.extension.version">1</initParam>
      <initParam name="className">com.percussion.extensions.encoding.PSHTMLEncode</initParam>
      <initParam name="com.percussion.extension.reentrant">yes</initParam>
      <interface name="com.percussion.extension.IPSFieldInputTransformer"/>
      <PSXExtensionParamDef id="0">
         <name>value</name>
         <dataType>java.lang.String</dataType>
         <description>The value to be encoded</description>
      </PSXExtensionParamDef>
      <suppliedResources/>
   </Extension>
      <Extension categorystring="encoding" context="global/percussion/content/" deprecated="no" handler="Java" name="sys_EncodeForJavaScript">
      <initParam name="com.percussion.user.description">Encodes any embedded markup with rules for JavaScript encoding.</initParam>
      <initParam name="com.percussion.extension.version">1</initParam>
      <initParam name="className">com.percussion.extensions.encoding.PSJavaScriptEncode</initParam>
      <initParam name="com.percussion.extension.reentrant">yes</initParam>
      <interface name="com.percussion.extension.IPSFieldInputTransformer"/>
      <PSXExtensionParamDef id="0">
         <name>value</name>
         <dataType>java.lang.String</dataType>
         <description>The value to be encoded</description>
      </PSXExtensionParamDef>
      <suppliedResources/>
   </Extension>
      <Extension categorystring="encoding" context="global/percussion/content/" deprecated="no" handler="Java" name="sys_EncodeForCSS">
      <initParam name="com.percussion.user.description">Encodes any embedded markup with rules for CSS encoding.</initParam>
      <initParam name="com.percussion.extension.version">1</initParam>
      <initParam name="className">com.percussion.extensions.encoding.PSCSSEncode</initParam>
      <initParam name="com.percussion.extension.reentrant">yes</initParam>
      <interface name="com.percussion.extension.IPSFieldInputTransformer"/>
      <PSXExtensionParamDef id="0">
         <name>value</name>
         <dataType>java.lang.String</dataType>
         <description>The value to be encoded</description>
      </PSXExtensionParamDef>
      <suppliedResources/>
   </Extension>
      <Extension categorystring="encoding" context="global/percussion/content/" deprecated="no" handler="Java" name="sys_EncodeForXML">
      <initParam name="com.percussion.user.description">Encodes any embedded markup with rules for XML encoding.</initParam>
      <initParam name="com.percussion.extension.version">1</initParam>
      <initParam name="className">com.percussion.extensions.encoding.PSXMLEncode</initParam>
      <initParam name="com.percussion.extension.reentrant">yes</initParam>
      <interface name="com.percussion.extension.IPSFieldInputTransformer"/>
      <PSXExtensionParamDef id="0">
         <name>value</name>
         <dataType>java.lang.String</dataType>
         <description>The value to be encoded</description>
      </PSXExtensionParamDef>
      <suppliedResources/>
   </Extension>
    <Extension categorystring="encoding" context="global/percussion/content/" deprecated="no" handler="Java" name="sys_EncodeForURI">
      <initParam name="com.percussion.user.description">Performs percent-encoding for a component of a URI, such as a query parameter name or value, path or query-string. In particular this method insures that special characters in the component do not get interpreted as part of another component.</initParam>
      <initParam name="com.percussion.extension.version">1</initParam>
      <initParam name="className">com.percussion.extensions.encoding.PSURIComponentEncode</initParam>
      <initParam name="com.percussion.extension.reentrant">yes</initParam>
      <interface name="com.percussion.extension.IPSFieldInputTransformer"/>
      <PSXExtensionParamDef id="0">
         <name>value</name>
         <dataType>java.lang.String</dataType>
         <description>The value to be encoded</description>
      </PSXExtensionParamDef>
      <suppliedResources/>
   </Extension>
    <Extension categorystring="encoding" context="global/percussion/content/" deprecated="no" handler="Java" name="sys_sanitizeItemFields">
      <initParam name="com.percussion.user.description">Given a comma seperated list of html paramaters.  Sanitizes the specified fields by removing markup from them based on the specified whitelist.</initParam>
      <initParam name="com.percussion.extension.version">1</initParam>
      <initParam name="className">com.percussion.extensions.encoding.PSItemInputSanitizerTransformer</initParam>
      <initParam name="com.percussion.extension.reentrant">yes</initParam>
      <interface name="com.percussion.extension.IPSItemInputTransformer"/>
      <PSXExtensionParamDef id="0">
         <name>fields</name>
         <dataType>java.lang.String</dataType>
         <description>A comma separated list of HTML parameters / fields to be sanitized</description>
      </PSXExtensionParamDef>
       <PSXExtensionParamDef id="1">
         <name>Whitelist</name>
         <dataType>java.lang.String</dataType>
         <description>Specifies the whitelist to use when sanitizing input. 
         none:(default) All tags are removed only text nodes are preserved
         simpleText: Allow b, em, i, strong, u.
         basic:  a, b, blockquote, br, cite, code, dd, dl, dt, em, i, li, ol, p, pre, q, small, span, strike, strong, sub, sup, u, ul, and appropriate attributes.  Links (a elements) can point to http, https, ftp, mailto, and have an enforced rel=nofollow attribute.
         basicWithImages: basic+ img tags, with appropriate attributes, with src pointing to http or https.
         relaxed: a, b, blockquote, br, caption, cite, code, col, colgroup, dd, div, dl, dt, em, h1, h2, h3, h4, h5, h6, i, img, li, ol, p, pre, q, small, span, strike, strong, sub, sup, table, tbody, td, tfoot, th, thead, tr, u, ul. Links do not have an enforced rel=nofollow attribute.
         </description>
      </PSXExtensionParamDef>
      <suppliedResources/>
   </Extension>
</PSXExtensionHandlerConfiguration>
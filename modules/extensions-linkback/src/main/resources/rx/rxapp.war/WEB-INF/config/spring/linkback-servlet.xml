<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~     Percussion CMS
  ~     Copyright (C) 1999-2020 Percussion Software, Inc.
  ~
  ~     This program is free software: you can redistribute it and/or modify
  ~     it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
  ~
  ~     This program is distributed in the hope that it will be useful,
  ~     but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~     GNU Affero General Public License for more details.
  ~
  ~     Mailing Address:
  ~
  ~      Percussion Software, Inc.
  ~      PO Box 767
  ~      Burlington, MA 01803, USA
  ~      +01-781-438-9900
  ~      support@percussion.com
  ~      https://www.percussion.com
  ~
  ~     You should have received a copy of the GNU Affero General Public License along with this program.  If not, see <https://www.gnu.org/licenses/>
  -->

<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">

   <!-- === Define servlet URLs below /Rhythmyx/user/apps/ -->
	<bean id="solnLinkBackUrlMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping" abstract="false" lazy-init="default" autowire="default"
		dependency-check="default">
		<property name="mappings">
			<props>
				<prop key="ap">actionPanelLinkBackController</prop>
				<prop key="aa">activeAssemblyLinkBackController</prop>
				<prop key="cx">contentExplorerLinkBackController</prop>
				<prop key="help">helpLinkBackController</prop>
			</props>
		</property>
	</bean>
	<bean id="solnLinkbackViewResolver" class="com.percussion.soln.linkback.servlet.NamespacedInternalResourceViewResolver">
		<property name="namespace" value="linkback." />
		<property name="prefix" value="/ui/linkback/" />
		<property name="suffix" value=".jsp" />
	</bean>
   
   <!-- === Define servlet beans -->
	<bean id="actionPanelLinkBackController" class="com.percussion.soln.linkback.servlet.ActionPanelLinkbackController">
		<property name="helpViewName" value="linkback.LinkbackHelpView" />
		<property name="errorViewName" value="linkback.LinkbackErrorView" />
	</bean>
	<bean id="activeAssemblyLinkBackController" class="com.percussion.soln.linkback.servlet.ActiveAssemblyLinkbackController">
		<property name="helpViewName" value="linkback.LinkbackHelpView" />
		<property name="errorViewName" value="linkback.LinkbackErrorView" />
		<property name="itemSummaryFinder" ref="itemSummaryFinder" />
	</bean>
	<bean id="contentExplorerLinkBackController" class="com.percussion.soln.linkback.servlet.ContentExplorerLinkbackController">
		<property name="helpViewName" value="linkback.LinkbackHelpView" />
		<property name="errorViewName" value="linkback.LinkbackErrorView" />
	</bean>
	<bean id="helpLinkBackController" class="com.percussion.soln.linkback.servlet.GenericLinkbackController">
		<property name="helpViewName" value="linkback.LinkbackHelpView" />
		<property name="errorViewName" value="linkback.LinkbackErrorView" />
	</bean>
	<bean id="itemSummaryFinder" class="com.percussion.soln.linkback.utils.ItemSummaryFinder">
		<property name="cmsContentSummaries" ref="sys_cmsObjectMgr" />
	</bean>
</beans>
